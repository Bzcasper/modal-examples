{
  "temperature": 0,
  "prompt": "## Task\nBelow is an instruction that describes a task, paired with an input that provides further context. Write a response that appropriately completes the request.\n\n### Instruction:\nYou are a code completion assistant and your task is to analyze user edits and then rewrite an excerpt that the user provides, suggesting the appropriate edits within the excerpt, taking into account the cursor location.\n\n### Events:\nUser edited \"untitled\":\n```diff\n@@ -14740,4 +14740,58 @@\n \n \n Where are we setting the default pane/buffer tab?\n+The default pane/buffer tab is set in a few different places in the codebase:\n+\n+1. In `src/ui/workspace.tsx`, the `MainContent` component determines which pane to render based on the `currentPaneType`:\n+\n+```typescript\n+function MainContent({ currentPaneType }: { currentPaneType: PaneType }) {\n+  switch (currentPaneType) {\n+    case PaneType.Git:\n+      return <GitPane items={default_pane_items_git} />;\n+    case PaneType.Default:\n+    default:\n+      return <AiPane items={default_pane_items_ai} />;\n+  }\n+}\n+```\n+\n+2. The `currentPaneType` state is initialized in the `Workspace` component:\n+\n+```typescript\n+const [currentPaneType, setCurrentPaneType] = React.useState<PaneType>(\n+  PaneType.Default\n+);\n+```\n+\n+3. For the AI pane, the default tab is set in `src/ui/ai-iteration/ai-pane.tsx`:\n+\n+```typescript\n+const default_pane_item = {\n+  kind: \"inline_assistant\",\n+  file: \"icon.rs\",\n+  icon: <RustLogo />,\n+} as const;\n+\n+export const default_pane_items_ai: PaneItems = [\n+  default_pane_item,\n+  // ... other items\n+];\n+```\n \n+4. For the Git pane, the default tab is set in `src/ui/git-iteration/git-pane.tsx`:\n+\n+```typescript\n+const default_pane_item = {\n+  kind: \"git7\",\n+};\n+\n+export const default_pane_items_git: PaneItems = [\n+  default_pane_item as PaneItem,\n+  // ... other items\n+];\n+```\n+\n+5. The actual rendering of tabs is handled in the `AiPane` and `GitPane` components, which use these default items to determine which tab to show initially.\n+\n+To change the default pane or buffer tab, you would need to modify the relevant `default_pane_item` or `default_pane_items` in the appropriate file, or adjust the initial `currentPaneType` in the `Workspace` component.\n\n```\n\nUser edited \"src/ui/ai-iteration/ai-pane.tsx\":\n```diff\n@@ -85,16 +85,17 @@\n \n export const default_pane_items_ai: PaneItems = [\n   default_pane_item,\n-  {\n-    file: \"Diagnostics\",\n-    kind: \"revamped_diagnostics\",\n-  },\n+\n   {\n     file: \"icon.rs\",\n     kind: \"mock_editor\",\n     icon: <SiReact size={12} />,\n   },\n   {\n+    file: \"Diagnostics\",\n+    kind: \"revamped_diagnostics\",\n+  },\n+  {\n     file: \"Generated Title To This Block\",\n     kind: \"suggest_edits_view\",\n     icon: <Sparkles size={12} />,\n\n```\n\nUser edited \"src/ui/ai-iteration/ai-pane.tsx\":\n```diff\n@@ -85,15 +85,14 @@\n \n export const default_pane_items_ai: PaneItems = [\n   default_pane_item,\n-\n   {\n+    file: \"Diagnostics\",\n+    kind: \"revamped_diagnostics\",\n+  },\n+  {\n     file: \"icon.rs\",\n     kind: \"mock_editor\",\n     icon: <SiReact size={12} />,\n-  },\n-  {\n-    file: \"Diagnostics\",\n-    kind: \"revamped_diagnostics\",\n   },\n   {\n     file: \"Generated Title To This Block\",\n\n```\n\nUser edited \"src/ui/ai-iteration/ai-pane.tsx\":\n```diff\n@@ -78,9 +78,9 @@\n type PaneItems = PaneItem[];\n \n const default_pane_item = {\n-  file: \"icon.rs\",\n-  kind: \"inline_assistant\",\n-  icon: <RustLogo />,\n+  file: \"Diagnostics\",\n+  kind: \"revamped_diagnostics\",\n+  icon: <TriangleAlert size={12} />,\n } as const;\n \n export const default_pane_items_ai: PaneItems = [\n\n```\n\nUser edited \"src/ui/multi-buffer-alt.tsx\":\n```diff\n@@ -761,7 +761,7 @@\n                 <div\n                   className={clsx(\n                     \"absolute inset-0 z-0 w-full\",\n-                    \"bg-gradient-to-br from-text-muted/10 to-transparent h-full w-full\",\n+                    \"bg-gradient-to-br from-text-muted/5 to-transparent h-full w-full\",\n                   )}\n                 />\n                 <BufferHeader\n\n```\n\nUser edited \"src/ui/multi-buffer-alt.tsx\":\n```diff\n@@ -761,7 +761,7 @@\n                 <div\n                   className={clsx(\n                     \"absolute inset-0 z-0 w-full\",\n-                    \"bg-gradient-to-br from-text-muted/5 to-transparent h-full w-full\",\n+                    \"bg-gradient-to-br from-text-muted/5 to-transparent h- w-full\",\n                   )}\n                 />\n                 <BufferHeader\n\n```\n\nUser edited \"src/ui/multi-buffer-alt.tsx\":\n```diff\n@@ -761,7 +761,7 @@\n                 <div\n                   className={clsx(\n                     \"absolute inset-0 z-0 w-full\",\n-                    \"bg-gradient-to-br from-text-muted/5 to-transparent h- w-full\",\n+                    \"bg-gradient-to-br from-text-muted/5 to-transparent h-400 w-full\",\n                   )}\n                 />\n                 <BufferHeader\n\n```\n\nUser edited \"src/ui/multi-buffer-alt.tsx\":\n```diff\n@@ -761,7 +761,7 @@\n                 <div\n                   className={clsx(\n                     \"absolute inset-0 z-0 w-full\",\n-                    \"bg-gradient-to-br from-text-muted/5 to-transparent h-400 w-full\",\n+                    \"bg-gradient-to-br from-text-muted/5 to-transparent h-200 w-full\",\n                   )}\n                 />\n                 <BufferHeader\n\n```\n\nUser edited \"src/ui/multi-buffer-alt.tsx\":\n```diff\n@@ -761,7 +761,7 @@\n                 <div\n                   className={clsx(\n                     \"absolute inset-0 z-0 w-full\",\n-                    \"bg-gradient-to-br from-text-muted/5 to-transparent h-200 w-full\",\n+                    \"bg-gradient-to-br from-text-muted/5 to-transparent h-[200 w-full\",\n                   )}\n                 />\n                 <BufferHeader\n\n```\n\nUser edited \"src/ui/multi-buffer-alt.tsx\":\n```diff\n@@ -761,7 +761,7 @@\n                 <div\n                   className={clsx(\n                     \"absolute inset-0 z-0 w-full\",\n-                    \"bg-gradient-to-br from-text-muted/5 to-transparent h-[200 w-full\",\n+                    \"bg-gradient-to-br from-text-muted/5 to-transparent h-[200px] w-full\",\n                   )}\n                 />\n                 <BufferHeader\n\n```\n\nUser edited \"src/ui/multi-buffer-alt.tsx\":\n```diff\n@@ -761,7 +761,7 @@\n                 <div\n                   className={clsx(\n                     \"absolute inset-0 z-0 w-full\",\n-                    \"bg-gradient-to-br from-text-muted/5 to-transparent h-[200px] w-full\",\n+                    \"bg-gradient-to-br from-text-muted/5 via-transparent to-transparent h-[200px] w-full\",\n                   )}\n                 />\n                 <BufferHeader\n\n```\n\nUser edited \"src/ui/multi-buffer-alt.tsx\":\n```diff\n@@ -761,7 +761,7 @@\n                 <div\n                   className={clsx(\n                     \"absolute inset-0 z-0 w-full\",\n-                    \"bg-gradient-to-br from-text-muted/5 via-transparent to-transparent h-[200px] w-full\",\n+                    \"bg-gradient-to-br from-text-muted via-transparent to-transparent h-[200px] w-full\",\n                   )}\n                 />\n                 <BufferHeader\n\n```\n\nUser edited \"src/ui/multi-buffer-alt.tsx\":\n```diff\n@@ -760,7 +760,7 @@\n               <div key={buffer.id} className=\"group relative px-2\">\n                 <div\n                   className={clsx(\n-                    \"absolute inset-0 z-0 w-full\",\n+                    \"absolute inset-0 z-0 w-full \",\n                     \"bg-gradient-to-br from-text-muted via-transparent to-transparent h-[200px] w-full\",\n                   )}\n                 />\n\n```\n\n### Input:\n```src/ui/multi-buffer-alt.tsx\n          <div className=\"w-full h-0.5 bg-border overflow-hidden\">\n<|editable_region_start|>\n            <div\n              className=\"h-full bg-accent transition-transform duration-[16ms] ease-linear origin-left\"\n              style={{ transform: `scaleX(${progress / 100})` }}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col relative size-full overflow-hidden\">\n      <Toolbar />\n      <ScrollArea className=\"isolate relative size-full flex-1 bg-editor-background\">\n        <div className=\"absolute z-40 top-0 inset-x-0 w-full h-[20px] bg-gradient-to-b from-[#292C33] to-transparent\" />\n        <div className=\"flex flex-col size-full\">\n          {buffers.map((buffer, ix) => {\n            if (\n              activeErrorCode &&\n              !buffer.contents.some((content) =>\n                content.diagnostics.some(\n                  (d) => d.errorCode === activeErrorCode,\n                ),\n              )\n            ) {\n              return null;\n            }\n\n            return (\n              <div key={buffer.id} className=\"group relative px-2\">\n                <div\n                  className={clsx(\n                    \"absolute inset-0 z-0 w-full <|user_cursor_is_here|>\",\n                    \"bg-gradient-to-br from-text-muted via-transparent to-transparent h-[200px] w-full\",\n                  )}\n                />\n                <BufferHeader\n                  buffer={buffer}\n                  isOpen={openBuffers.has(buffer.id)}\n                  onToggle={() => toggleBuffer(buffer.id)}\n                  onShowInput={() => setShowInputForBuffer(buffer.id)}\n                  onShowDiff={() => setShowDiffForBuffer(buffer.id)}\n                  showInput={showInputForBuffer === buffer.id}\n                  showDiff={showDiffForBuffer === buffer.id}\n                  variant={\"two_line_high\"}\n                  editorLineHeight={LINE_HEIGHT}\n                  index={ix}\n                />\n                {showInputForBuffer === buffer.id &&\n                  showDiffForBuffer !== buffer.id && (\n                    <div className=\"flex mt-2 pb-1.5 border-b border-border/50 pl-2 pr-2\">\n                      <TooltipButton\n                        divTrigger\n                        label=\"Close Input\"\n                        customWidth={false}\n                        className=\"shrink-0\"\n                        icon={<XIcon className=\"size-3\" />}\n                        onClick={() => setShowInputForBuffer(null)}\n                      />\n                      <input\n                        autoFocus\n                        placeholder=\"Add fix instructions…\"\n                        className=\"w-full font-mono text-xs bg-transparent px-2 pt-1 pb-1.5 focus:outline-none focus:border-accent placeholder:text-text-placeholder\"\n                        onKeyDown={(e) => {\n                          if (e.key === \"Escape\") {\n<|editable_region_end|>\n                            setShowInputForBuffer(null);\n```\n\n### Response\n\n",
  "rewrite_speculation": true,
  "prediction": {
    "content": "```src/ui/multi-buffer-alt.tsx\n          <div className=\"w-full h-0.5 bg-border overflow-hidden\">\n<|editable_region_start|>\n            <div\n              className=\"h-full bg-accent transition-transform duration-[16ms] ease-linear origin-left\"\n              style={{ transform: `scaleX(${progress / 100})` }}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col relative size-full overflow-hidden\">\n      <Toolbar />\n      <ScrollArea className=\"isolate relative size-full flex-1 bg-editor-background\">\n        <div className=\"absolute z-40 top-0 inset-x-0 w-full h-[20px] bg-gradient-to-b from-[#292C33] to-transparent\" />\n        <div className=\"flex flex-col size-full\">\n          {buffers.map((buffer, ix) => {\n            if (\n              activeErrorCode &&\n              !buffer.contents.some((content) =>\n                content.diagnostics.some(\n                  (d) => d.errorCode === activeErrorCode,\n                ),\n              )\n            ) {\n              return null;\n            }\n\n            return (\n              <div key={buffer.id} className=\"group relative px-2\">\n                <div\n                  className={clsx(\n                    \"absolute inset-0 z-0 w-full <|user_cursor_is_here|>\",\n                    \"bg-gradient-to-br from-text-muted via-transparent to-transparent h-[200px] w-full\",\n                  )}\n                />\n                <BufferHeader\n                  buffer={buffer}\n                  isOpen={openBuffers.has(buffer.id)}\n                  onToggle={() => toggleBuffer(buffer.id)}\n                  onShowInput={() => setShowInputForBuffer(buffer.id)}\n                  onShowDiff={() => setShowDiffForBuffer(buffer.id)}\n                  showInput={showInputForBuffer === buffer.id}\n                  showDiff={showDiffForBuffer === buffer.id}\n                  variant={\"two_line_high\"}\n                  editorLineHeight={LINE_HEIGHT}\n                  index={ix}\n                />\n                {showInputForBuffer === buffer.id &&\n                  showDiffForBuffer !== buffer.id && (\n                    <div className=\"flex mt-2 pb-1.5 border-b border-border/50 pl-2 pr-2\">\n                      <TooltipButton\n                        divTrigger\n                        label=\"Close Input\"\n                        customWidth={false}\n                        className=\"shrink-0\"\n                        icon={<XIcon className=\"size-3\" />}\n                        onClick={() => setShowInputForBuffer(null)}\n                      />\n                      <input\n                        autoFocus\n                        placeholder=\"Add fix instructions…\"\n                        className=\"w-full font-mono text-xs bg-transparent px-2 pt-1 pb-1.5 focus:outline-none focus:border-accent placeholder:text-text-placeholder\"\n                        onKeyDown={(e) => {\n                          if (e.key === \"Escape\") {\n<|editable_region_end|>\n                            setShowInputForBuffer(null);\n```"
  },
  "max_tokens": 1024
}