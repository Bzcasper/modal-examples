{
  "temperature": 0,
  "prompt": "## Task\nBelow is an instruction that describes a task, paired with an input that provides further context. Write a response that appropriately completes the request.\n\n### Instruction:\nYou are a code completion assistant and your task is to analyze user edits and then rewrite an excerpt that the user provides, suggesting the appropriate edits within the excerpt, taking into account the cursor location.\n\n### Events:\nUser edited \"src/main.rs\":\n```diff\n@@ -1,6 +1,5 @@\n mod models;\n mod services;\n-sadfg\n mod ui;\n \n use std::alloc;\n\n```\n\nUser edited \"\":\n```diff\n@@ -1,4 +1,7 @@\n {\n+  \"active_pane_modifiers\": {\n+      \"magnification\": 1.5\n+    },\n   \"buffer_font_size\": null,\n   \"assistant\": {\n     \"default_model\": {\n\n```\n\nUser edited \"\":\n```diff\n@@ -1,7 +1,7 @@\n {\n   \"active_pane_modifiers\": {\n-      \"magnification\": 1.5\n-    },\n+    \"magnification\": 1.5\n+  },\n   \"buffer_font_size\": null,\n   \"assistant\": {\n     \"default_model\": {\n\n```\n\nUser edited \"untitled\":\n```diff\n@@ -1,6 +1,83 @@\n \n-/prompt Default Prompt\n-…\n-…\n+---END DEFAULT CONTEXT---\n+\n+You are an expert AI assistant that helps the user solve software development problems, and helps them with their daily lives and questions.\n+\n+\n+Today is Thu, 30 Jan 2025 12:06:03 -0500.\n+\n+Consider this when thinking about:\n+- Is this method deprecated?\n+- How long ago was this library last updated?\n+\n+---\n+When having a conversation, don't apologize for your mistakes. \n+\n+----\n+When diagnosting a problem, trying to resolve diagnostics, or helping the user with a design problem, avoid introducing new dependencies. \n+\n+Dependency creep can happen quickly when always reaching for new dependencies to solve problems. This can lead to a bloated codebase, increased complexity, and more potential for bugs.\n+\n+When answering a user's question, or writing new code, follow this process:\n+\n+1. Is the problem solvable without any dependencies?\n+2. If not, can the problem be solved with a dependency that is already in use?\n+3. If this problem requires a new dependency, is there a different way to solve the problem, like changinng the approach or modifying the existing code?\n+4. If a new dependency is required, is it well-maintained, secure, and does it have a good reputation in the community?\n+\n+If in the end you determine that a new dependency is required, discuss options with the user, and await their approval before sharing solutions that include new dependencies.\n+\n+---\n+You are an expert in the field the user is asking you about. You know the answer with certainty when you know the answer, taking the simplest approach possible that achieves the user's goals. \n+\n+You advise the user when their approach is overly complex, and help them break up complicated approaches into simpler ones.\n+\n+You understand the context the user is working in and advise them on the best approach to take.\n+\n+Example 1:\n+\n+User: \"I want to serialize this Rust structure to JSON, but I need to implement a custom serialization method for this field because it is a `HashMap`. Can you help me write a custom serialization method?\"\n+\n+A: \"Have you considered using the datatype `BTreeMap` instead of `HashMap`? `BTreeMap` is already serializable to JSON, so you wouldn't need to write a custom serialization. \n+\n+I can help you write the custom serialization method if you would like, but for this case this approach might be simpler overall.\"\n+\n+Example 2:\n+\n+User: \"I am trying to check if a table in my SQL database has any data. I know I need to do something like `SELECT COUNT(*) FROM my_table` but I'm a little stuck. Can you help me with this?\"\n+\n+A: \"While using SELECT COUNT(*) can work, it's not the most efficient approach for checking data existence, especially for large tables. This method scans the entire table, which can be resource-intensive and slow.\n+\n+Instead, I recommend using the EXISTS clause, which is optimized for checking data existence. You can use it like this:\n+\n+```sql\n+IF EXISTS (SELECT 1 FROM my_table LIMIT 1)\n+BEGIN\n+    -- Table has data\n+END\n+ELSE\n+BEGIN\n+    -- Table is empty\n+END\n+```\n+\n+This approach is faster because it stops searching as soon as it finds a single row.\n+\n+Alternatively, depending on your database system, you might have even more efficient options:\n+\n+1. For MySQL: Use SHOW TABLE STATUS\n+2. For Microsoft SQL Server: Use sp_spaceused\n+\n+These methods provide quick row count estimates without scanning the entire table, making them much more efficient for checking data existence.\"\n+\n+```\n+\n+This example demonstrates how you, as an expert, can guide the user towards a more efficient solution while explaining why their initial approach might not be optimal.\n+\n+---\n+\n+The above context is to help you interact with the user in a way that is engaging and helpful. Do not include instructions, examples, or the above context in your answers to the user.\n+\n+---END DEFAULT CONTEXT---\n \n \n\n```\n\nUser edited \"untitled\":\n```diff\n@@ -1,83 +1 @@\n-\n----END DEFAULT CONTEXT---\n-\n-You are an expert AI assistant that helps the user solve software development problems, and helps them with their daily lives and questions.\n-\n-\n-Today is Thu, 30 Jan 2025 12:06:03 -0500.\n-\n-Consider this when thinking about:\n-- Is this method deprecated?\n-- How long ago was this library last updated?\n-\n----\n-When having a conversation, don't apologize for your mistakes. \n-\n-----\n-When diagnosting a problem, trying to resolve diagnostics, or helping the user with a design problem, avoid introducing new dependencies. \n-\n-Dependency creep can happen quickly when always reaching for new dependencies to solve problems. This can lead to a bloated codebase, increased complexity, and more potential for bugs.\n-\n-When answering a user's question, or writing new code, follow this process:\n-\n-1. Is the problem solvable without any dependencies?\n-2. If not, can the problem be solved with a dependency that is already in use?\n-3. If this problem requires a new dependency, is there a different way to solve the problem, like changinng the approach or modifying the existing code?\n-4. If a new dependency is required, is it well-maintained, secure, and does it have a good reputation in the community?\n-\n-If in the end you determine that a new dependency is required, discuss options with the user, and await their approval before sharing solutions that include new dependencies.\n-\n----\n-You are an expert in the field the user is asking you about. You know the answer with certainty when you know the answer, taking the simplest approach possible that achieves the user's goals. \n-\n-You advise the user when their approach is overly complex, and help them break up complicated approaches into simpler ones.\n-\n-You understand the context the user is working in and advise them on the best approach to take.\n-\n-Example 1:\n-\n-User: \"I want to serialize this Rust structure to JSON, but I need to implement a custom serialization method for this field because it is a `HashMap`. Can you help me write a custom serialization method?\"\n-\n-A: \"Have you considered using the datatype `BTreeMap` instead of `HashMap`? `BTreeMap` is already serializable to JSON, so you wouldn't need to write a custom serialization. \n-\n-I can help you write the custom serialization method if you would like, but for this case this approach might be simpler overall.\"\n-\n-Example 2:\n-\n-User: \"I am trying to check if a table in my SQL database has any data. I know I need to do something like `SELECT COUNT(*) FROM my_table` but I'm a little stuck. Can you help me with this?\"\n-\n-A: \"While using SELECT COUNT(*) can work, it's not the most efficient approach for checking data existence, especially for large tables. This method scans the entire table, which can be resource-intensive and slow.\n-\n-Instead, I recommend using the EXISTS clause, which is optimized for checking data existence. You can use it like this:\n-\n-```sql\n-IF EXISTS (SELECT 1 FROM my_table LIMIT 1)\n-BEGIN\n-    -- Table has data\n-END\n-ELSE\n-BEGIN\n-    -- Table is empty\n-END\n-```\n-\n-This approach is faster because it stops searching as soon as it finds a single row.\n-\n-Alternatively, depending on your database system, you might have even more efficient options:\n-\n-1. For MySQL: Use SHOW TABLE STATUS\n-2. For Microsoft SQL Server: Use sp_spaceused\n-\n-These methods provide quick row count estimates without scanning the entire table, making them much more efficient for checking data existence.\"\n-\n-```\n-\n-This example demonstrates how you, as an expert, can guide the user towards a more efficient solution while explaining why their initial approach might not be optimal.\n-\n----\n-\n-The above context is to help you interact with the user in a way that is engaging and helpful. Do not include instructions, examples, or the above context in your answers to the user.\n-\n----END DEFAULT CONTEXT---\n-\n-\n+jfl kdskllkfdj lasjfl kasdjf ldsjafl kjdsalkfj lkdsjaflkjdslkajflkdsjaflkj\n\\ No newline at end of file\n\n```\n\nUser edited \"untitled\":\n```diff\n@@ -4,6 +4,8 @@\n \n I added the `good first issue` tag, as the fix should be reasonably straightforward and would be a great way for new contributors to jump in and contribute.\n \n+- \n+\n ### Papercuts triaging\n \n - [Meta] Popover layer issues: Make popovers, hovers and context menus share the same layer, only one can exist at a time\n\n```\n\nUser edited \"untitled\":\n```diff\n@@ -4,7 +4,7 @@\n \n I added the `good first issue` tag, as the fix should be reasonably straightforward and would be a great way for new contributors to jump in and contribute.\n \n-- \n+- no \n \n ### Papercuts triaging\n \n\n```\n\nUser edited \"untitled\":\n```diff\n@@ -4,7 +4,8 @@\n \n I added the `good first issue` tag, as the fix should be reasonably straightforward and would be a great way for new contributors to jump in and contribute.\n \n-- no \n+- no solid track bg\n+-\n \n ### Papercuts triaging\n \n\n```\n\n### Input:\n```untitled\n<|start_of_file|>\n<|editable_region_start|>\n## 2025\n\n## Week 5\n\nI added the `good first issue` tag, as the fix should be reasonably straightforward and would be a great way for new contributors to jump in and contribute.\n\n- no solid track bg\n-<|user_cursor_is_here|>\n\n### Papercuts triaging\n\n- [Meta] Popover layer issues: Make popovers, hovers and context menus share the same layer, only one can exist at a time\n  - https://github.com/zed-industries/zed/issues/23367\n  - https://github.com/zed-industries/zed/issues/23894\n\n- [Meta] UI/font-size scaling\n  - https://github.com/zed-industries/zed/issues/23027 (answered)\n  - https://github.com/zed-industries/zed/issues/22673 (partially tackled)\n  \n\n- Stray, valid issues\n  - https://github.com/zed-industries/zed/issues/23234 (solution: scrollbar + fixed amount of visible items)\n    - n items tall, when more than that fix height at n + 0.5 items high \n  - https://github.com/zed-industries/zed/issues/20840\n\n## Week 4\n\n### https://github.com/zed-industries/zed/pull/22668\n\n- Nate: Concerned about lines moving with multiline diagnostics\n- Danilo: I haven't looked into this one at all as it seems pretty significant/big. Given it's an optional setting, it concerns me less. Curious to explore whether there are conflicts with everything that happens after code in lines (Git blame, inline completions, etc.)\n\n### https://github.com/zed-industries/zed/pull/21675\n\nNate: LGTM, should be ready to merge\n\n### https://github.com/zed-industries/zed/pull/21337\n\nNate: I think there are a number of design issues here: icons, toolbar item clarity, how we want it to work. I'll be jumping in this one directly to take a look and see if I can expedite some of it.\n\nNate: Latest commit doesn't compile, waiting on an update\n\n### https://github.com/zed-industries/zed/pull/17224\n\nNate: I don't think design feedback is needed here, but it did make me think about this idea: https://zed-industries.slack.com/archives/C04S5TU0RSN/p1737476244377949\n\n### https://github.com/zed-industries/zed/pull/22418\n\nNate: Proposed a more subtle approach: https://github.com/zed-industries/zed/pull/22418#issuecomment-2605253667\n\n### Bumps / Request More Info\n\n- https://github.com/zed-industries/zed/pull/21429\n- https://github.com/zed-industries/zed/pull/20506\n- https://github.com/zed-industries/zed/pull/18143 (req add screenshots)\n<|editable_region_end|>\n```\n\n### Response\n\n",
  "rewrite_speculation": true,
  "prediction": {
    "content": "```untitled\n<|start_of_file|>\n<|editable_region_start|>\n## 2025\n\n## Week 5\n\nI added the `good first issue` tag, as the fix should be reasonably straightforward and would be a great way for new contributors to jump in and contribute.\n\n- no solid track bg\n-<|user_cursor_is_here|>\n\n### Papercuts triaging\n\n- [Meta] Popover layer issues: Make popovers, hovers and context menus share the same layer, only one can exist at a time\n  - https://github.com/zed-industries/zed/issues/23367\n  - https://github.com/zed-industries/zed/issues/23894\n\n- [Meta] UI/font-size scaling\n  - https://github.com/zed-industries/zed/issues/23027 (answered)\n  - https://github.com/zed-industries/zed/issues/22673 (partially tackled)\n  \n\n- Stray, valid issues\n  - https://github.com/zed-industries/zed/issues/23234 (solution: scrollbar + fixed amount of visible items)\n    - n items tall, when more than that fix height at n + 0.5 items high \n  - https://github.com/zed-industries/zed/issues/20840\n\n## Week 4\n\n### https://github.com/zed-industries/zed/pull/22668\n\n- Nate: Concerned about lines moving with multiline diagnostics\n- Danilo: I haven't looked into this one at all as it seems pretty significant/big. Given it's an optional setting, it concerns me less. Curious to explore whether there are conflicts with everything that happens after code in lines (Git blame, inline completions, etc.)\n\n### https://github.com/zed-industries/zed/pull/21675\n\nNate: LGTM, should be ready to merge\n\n### https://github.com/zed-industries/zed/pull/21337\n\nNate: I think there are a number of design issues here: icons, toolbar item clarity, how we want it to work. I'll be jumping in this one directly to take a look and see if I can expedite some of it.\n\nNate: Latest commit doesn't compile, waiting on an update\n\n### https://github.com/zed-industries/zed/pull/17224\n\nNate: I don't think design feedback is needed here, but it did make me think about this idea: https://zed-industries.slack.com/archives/C04S5TU0RSN/p1737476244377949\n\n### https://github.com/zed-industries/zed/pull/22418\n\nNate: Proposed a more subtle approach: https://github.com/zed-industries/zed/pull/22418#issuecomment-2605253667\n\n### Bumps / Request More Info\n\n- https://github.com/zed-industries/zed/pull/21429\n- https://github.com/zed-industries/zed/pull/20506\n- https://github.com/zed-industries/zed/pull/18143 (req add screenshots)\n<|editable_region_end|>\n```"
  },
  "max_tokens": 1024
}